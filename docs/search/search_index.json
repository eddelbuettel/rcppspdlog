{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"RcppSpdlog: Bundling of spdlog for R and Rcpp use","text":""},{"location":"#about","title":"About","text":"<p>The spdlog library is a widely-used and very capable header-only C++ library for logging.  This package includes its headers as an R package to permit other R packages to deploy it via a simple <code>LinkingTo: RcppSpdlog</code> as described in Section 1.1.3 of WRE. As of version 0.0.9, it also provides both simple R logging functions and compiled functions callable by other packages as described in Section 5.4.3 of WRE.</p>"},{"location":"#example","title":"Example","text":"<p>A simple first example, following the upstream examples:</p> <pre><code>edd@rob:~$ Rscript -e 'Rcpp::sourceCpp(\"inst/examples/exampleOne.cpp\")'\n\nR&gt; exampleOne()\n[07:45:57.168673] [I] [thread 1500593] Welcome to spdlog!\n[07:45:57.168704] [E] [thread 1500593] Some error message with arg: 1\n[07:45:57.168707] [W] [thread 1500593] Easy padding in numbers like 00000012\n[07:45:57.168710] [C] [thread 1500593] Support for int: 42;  hex: 2a;  oct: 52; bin: 101010\n[07:45:57.168728] [I] [thread 1500593] Support for floats 1.23\n[07:45:57.168731] [I] [thread 1500593] Positional args are supported too..\n[07:45:57.168734] [I] [thread 1500593] left aligned\n[07:45:57.168737] [D] [thread 1500593] This message should be displayed..\nedd@rob:~$\n</code></pre> <p>This logs the hour, minute, second, microsecond followed by a one-char code for info, error, warning or critical followed by the thread id and the actual loggable message. The code, apart from the included headers and more, is simply</p> <pre><code>// [[Rcpp::export]]\nvoid exampleOne() {\n\n  // change log pattern (changed from [%H:%M:%S %z] [%n] [%^---%L---%$] )\n  spdlog::set_pattern(\"[%H:%M:%S.%f] [%L] [thread %t] %v\");\n\n  spdlog::info(\"Welcome to spdlog!\");\n  spdlog::error(\"Some error message with arg: {}\", 1);\n\n  spdlog::warn(\"Easy padding in numbers like {:08d}\", 12);\n  spdlog::critical(\"Support for int: {0:d};  hex: {0:x};  oct: {0:o}; bin: {0:b}\", 42);\n  spdlog::info(\"Support for floats {:03.2f}\", 1.23456);\n  spdlog::info(\"Positional args are {1} {0}..\", \"too\", \"supported\");\n  spdlog::info(\"{:&lt;30}\", \"left aligned\");\n\n  spdlog::set_level(spdlog::level::debug); // Set global log level to debug\n  spdlog::debug(\"This message should be displayed..\");\n\n  // Compile time log levels\n  // define SPDLOG_ACTIVE_LEVEL to desired level\n  SPDLOG_TRACE(\"Some trace message with param {}\", {});\n  SPDLOG_DEBUG(\"Some debug message\");\n\n}\n</code></pre> <p>Many other customizations are possible, see the spdlog wiki.</p> <p>Note that using <code>spdlog</code> examples directly may well trigger warning from R during package checking as <code>stdout</code> and/or <code>stderr</code> may be used. See the included example function described in the next section which uses a derived class to pass logging output explicitly to the R input/output stream as per the R coding requirements, see Section 1.3.1 (and others) of WRE.</p>"},{"location":"#use-in-r-packages-and-warnings","title":"Use in R Packages and Warnings","text":"<p>As shipped, both spdlog and the embedded fmt use <code>stdout</code> and <code>stderr</code> in ways that may make it non-trivial to fully replace them with R input/output as required by Section 1.3.1 (and others) of WRE.</p> <p>However, based on some initial trials and some excellent help from upstream we have defined a specific sink for R in the header <code>rcpp_sink.h</code>, corrected one <code>stderr</code> use and added one <code>#define</code>.  That combination now passes as can be seen in checks of the package <code>RcppSpdlog</code> and the included function <code>exampleRsink()</code> whose complete source code is included here:</p> <pre><code>// this portmanteau include also defines the r_sink we use below, and which\n// diverts all logging to R via the Rcpp::Rcout replacement for std::cout\n#include &lt;RcppSpdlog&gt;\n\n//' spdlog Example using a sink for R\n//'\n//' A simple example invoking a derived R/Rcpp logger. Also demonstrates the\n//' stopwatch feature. For more features see the 'spdlog' documnetation.\n//'\n//' Note that this no longer triggers R warnings thanks to excellent help by\n//' Gabi Melman.\n//' @return None\n//' @examples\n//' exampleRsink()\n// [[Rcpp::export]]\nvoid exampleRsink() {\n\n    std::string logname = \"fromR\";                          // fix a name for this logger\n    auto sp = spdlog::get(logname);                         // retrieve existing one\n    if (sp == nullptr) sp = spdlog::r_sink_mt(logname);     // or create new one if needed\n\n    spdlog::stopwatch sw;                                   // instantiate a stop watch\n\n    // change log pattern (changed from [%H:%M:%S %z] [%n] [%^---%L---%$] )\n    spdlog::set_pattern(\"[%H:%M:%S.%f] [%n] [%^%L%$] [thread %t] %v\");\n\n    spdlog::info(\"Welcome to spdlog!\");\n    spdlog::error(\"Some error message with arg: {}\", 1);\n    spdlog::info(\"Elapsed time: {}\", sw);\n\n    spdlog::warn(\"Easy padding in numbers like {:08d}\", 12);\n    spdlog::critical(\"Support for int: {0:d};  hex: {0:x};  oct: {0:o}; bin: {0:b}\", 42);\n    spdlog::info(\"Support for floats {:03.2f}\", 1.23456);\n    spdlog::info(\"Positional args are {1} {0}..\", \"too\", \"supported\");\n    spdlog::info(\"{:&lt;30}\", \"left aligned\");\n    spdlog::info(\"Elapsed time: {}\", sw);\n\n}\n</code></pre> <p>Note that it is deliberately similar in use to the example above.  A new instance of the logger is instantiated as a shared pointer <code>sp</code> to a <code>spdlog</code> object. Similarly, a stopwatch is instantiated used simply by referring to it.</p> <p>We may make additional package features available in the future.</p>"},{"location":"#see-also","title":"See Also","text":"<p>The spdl package, now also on CRAN, wraps around this package to provide a uniform and consistent logging interface from both R and C++.  It defines a new C++ namespace <code>spdl</code> along with matching R functions.</p>"},{"location":"#author","title":"Author","text":"<p>Gabi Melman is the main author of spdlog.</p> <p>Victor Zverovich is the main author of the embedded fmt library.</p> <p>Dirk Eddelbuettel is author of this package and the R integration.</p>"},{"location":"#license","title":"License","text":"<p>spdlog and fmt are under the MIT license.</p> <p>RcppSpdlog is released under the GNU GPL, version 2 or later, just like R and Rcpp.</p>"},{"location":"CHANGELOG/","title":"Changelog","text":"<p>2026-02-12  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.27\n</code></pre> <p>2026-02-11  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* inst/include/RcppSpdlog: Disallow use of std::format under C++20;\nintended to be temporary while a better solutions is worked out\n* src/formatter.cpp: Switch back to fmt::format under C++20\n</code></pre> <p>2026-01-27  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* .github/workflows/ci.yaml: Switch to actions/checkout@v6\n</code></pre> <p>2026-01-16  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.26\n\n* inst/include/RcppSpdlog: Under C++20 or later, switch to\nSPDLOG_USE_STD_FORMAT (unless opted-out), avoiding CRAN nag\n</code></pre> <p>2026-01-15  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.25\n</code></pre> <p>2026-01-14  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/RcppSpdlog: Add two '#undef' to avoid compilation noise\n</code></pre> <p>2026-01-07  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.24\n</code></pre> <p>2026-01-04  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog/*: New upstream release spdlog 1.17.0 (which\nincludes fmt 12.1.0)\n</code></pre> <p>2025-10-15  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* docs/*: Refreshed with ChangeLog years tweak\n</code></pre> <p>2025-10-13  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* docs/*: Refreshed with syntax highlighting enabled\n</code></pre> <p>2025-10-12  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* docs/*: Refreshed under updated altdoc\n</code></pre> <p>2025-10-11  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.23\n\n* inst/include/spdlog/*: New upstream release spdlog 1.16.0 (which\nincludes fmt 12.0)\n\n* docs/: Regenerated using altdoc with mkdocs-material\n* .github/altdoc: Added and customized\n</code></pre> <p>2025-06-28  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* .github/workflows/ci.yaml: Use r-ci action with embedded bootstrap\n</code></pre> <p>2025-05-09  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.22\n\n* inst/include/spdlog/*: New upstream release spdlog 1.15.3 (which\nincludes fmt 11.2.0)\n</code></pre> <p>2025-03-30  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.21\n\n* inst/include/spdlog/*: New upstream release spdlog 1.15.2 (which\nincludes fmt 11.1.4)\n</code></pre> <p>2025-02-01  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.20\n\n* inst/include/spdlog/*: New upstream release spdlog 1.15.1\n</code></pre> <p>2024-12-10  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/examples/exampleFour.cpp: New multi-threaded logging example\nbased on code by Young Geun Kim in GitHub issue #22\n</code></pre> <p>2024-11-10  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.19\n\n* src/formatter.cpp: Partially revert / simplify previous PR\n</code></pre> <p>2024-11-09  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog/*: New upstream release spdlog 1.15.0\n</code></pre> <p>2024-10-29  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* inst/include/rcpp_sink.h: Move C++20 or greater check here, micro edit\n</code></pre> <p>2024-10-29  Xanthos Xanthopoulos  xanxanthopoulos@gmail.com</p> <pre><code>* inst/include/rcpp_sink.h: Use spdlog::memory_buf_t as string when\nbuilding under C++20 with SPDLOG_USE_STD_FORMAT\n* inst/include/RcppSpdlog_types.h: Abort compilation if\nSPDLOG_USE_STD_FORMAT without C++20 or greater\n* inst/include/spdl.h: Use std::vformat if SPDLOG_USE_STD_FORMAT flag\nis set\n* src/formatter.cpp: Idem\n</code></pre> <p>2024-10-13  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n</code></pre> <p>2024-10-13  Contantinos Giachalis  cgiachalis@outlook.com</p> <pre><code>* src/interface.cpp (log_setup): Documentation fix for duplicate log level\n* man/log_setup.Rd: Idem\n* R/RcppExports.R: Idem\n</code></pre> <p>2024-09-10  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.18\n</code></pre> <p>2024-09-09  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* src/interface.cpp (log_setup): Also support environment-level\nsetter via `SPDLOG_LEVEL`\n* inst/include/RcppSpdlog: Include spdlog/cfg/env.h as now needed\n</code></pre> <p>2024-05-17  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* README.md: Use tinyverse.netlify.app for dependency badge\n</code></pre> <p>2024-05-05  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog/*: New upstream release spdlog 1.14.1\n</code></pre> <p>2024-04-25  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.17\n\n* inst/include/spdlog/*: New upstream release spdlog 1.14.0\n</code></pre> <p>2024-04-02  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* .github/workflows/ci.yaml (jobs): Update to actions/checkout@v4,\nadd r-ci-setup actions\n</code></pre> <p>2024-01-12  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.16\n\n* inst/include/spdlog/*: New upstream release spdlog 1.13.0\n</code></pre> <p>2023-11-29  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.15\n\n* src/RcppExports.cpp: Regenerated under updated Rcpp to address\nformat string issue reported by R-devel\n\n* man/RcppSpdlog-package.Rd: Remove some empty default entries\n</code></pre> <p>2023-07-09  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.14\n</code></pre> <p>2023-07-08  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* inst/include/spdlog/*: New upstream release spdlog 1.12.0\n</code></pre> <p>2023-06-28  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* README.md: Add r-universe badge\n</code></pre> <p>2023-06-17  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.13\n</code></pre> <p>2023-06-13  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* src/interface.cpp (log_init): Add a simple convenience wrapper to\nlog_setup() which omits the first 'logger name' argument\n\n* inst/include/spdl.h: Define convenience wrappers init() and log()\n</code></pre> <p>2023-03-19  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* src/Makevars: No longer set a C++ standard\n\n* R/RcppExports.R (setLoadAction): Updated .Call using backticks\n</code></pre> <p>2023-01-17  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog_stopwatch.h: Define stopwatch without fmt.h header\n* inst/include/RcppSpdlog_types.h: Use spdlog_stopwatch if #define set\n</code></pre> <p>2023-01-07  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.12\n</code></pre> <p>2022-12-27  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/interface.cpp: Add documentation reference for format pattern\n* man/log_setup.Rd: Idem\n* R/RcppExports.R: Idem\n</code></pre> <p>2022-12-25  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdl.h: Wrap three RcppSpdlog::*_stopwatch() functions\n</code></pre> <p>2022-12-23  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/interface.cpp: Split stopwatch documentation off\n* man/get_stopwatch.Rd: Idem\n* man/log_setup.Rd: Idem\n* src/RcppExports.cpp: Idem\n* R/RcppExports.R: Idem\n</code></pre> <p>2022-12-22  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* src/interface.cpp: Define and document three new functions for stopwatch\n* R/RcppExports.R: Export new functions\n* src/RcppExports.cpp: Idem\n* inst/include/RcppSpdlog_RcppExports.h: Idem\n* inst/include/RcppSpdlog_types.h: Include stopwatch, add XPtr template\n* inst/include/RcppSpdlog: Use new header\n* man/log_setup.Rd: Add documentation\n* R/stopwatch.R: Add two S3 methods for stopwatch objects\n* NAMESPACE: Export methods\n\n* inst/include/rcpp_sink.h: Use lighter Rcpp interface\n</code></pre> <p>2022-12-13  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.11\n\n* vignettes/introduction.md: Microedit\n</code></pre> <p>2022-12-12  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/interface.cpp (log_filesetup): Setup (simple) file-based logger\n* R/RcppExports.R: R accessor\n* src/RcppExports.cpp: Autogenerated export for C level access\n* inst/include/RcppSpdlog_RcppExports.h: Idem\n* inst/include/rcpp_sink.h: Added #include\n* man/log_setup.Rd: Added documentation\n* inst/include/spdl.h: Added in spdl namespace\n</code></pre> <p>2022-12-02  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* README.md: Mention the new spdl package\n</code></pre> <p>2022-11-18  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/formatter.cpp: Export to C++ to make formatter() callable\n* src/RcppExports.cpp: Autogenerated export for C level access\n* inst/include/RcppSpdlog_RcppExports.h: Idem\n</code></pre> <p>2022-11-17  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.10\n\n* vignettes/introduction.md: More edits\n</code></pre> <p>2022-11-15  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/formatter.cpp (formatter): Add formatting helper which passes\nlogging string to fmt::format() enable fmt's \"format\" from R\n* src/RcppExports.cpp: Ditto\n* R/RcppExports.R (formatter): Ditto\n* man/formatter.Rd: Docs\n\n* inst/include/spdl.h: Include fmtlib::fmt via spdlog\n</code></pre> <p>2022-11-14  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* inst/include/spdl.h: Use variadic templates to fmt::format\n</code></pre> <p>2022-11-04  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.9\n</code></pre> <p>2022-11-03  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* inst/include/spdlog/*: New upstream release spdlog 1.11.0\n\n* vignettes/introduction.md: Small edits\n</code></pre> <p>2022-11-02  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* vignettes/introduction.md: New sections for access from R and C++\n</code></pre> <p>2022-11-01  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* inst/include/RcppSpdlog: Ad second shorter namespace 'spdl' with\nshorter (inlined) function names as simpler accessors\n\n* vignettes/introduction.md: Two new sections on access from R and\nC++, respectively\n</code></pre> <p>2022-10-31  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n</code></pre> <p>2022-10-30  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll micro release version\n\n* src/interface.cpp: Add R interface to spdlog\n* man/log_setup.Rd: Documentation\n\n* .github/workflows/ci.yaml (jobs): Update to actions/checkout@v3\n\n* src/interface.cpp: Activate R and C++ interface generation\n* R/RcppExports.R: Updated accordingly\n* src/RcppExports.cpp: Idem\n* inst/include/RcppSpdlog.h: Generated\n* inst/include/RcppSpdlog_RcppExports.h: Idem\n</code></pre> <p>2022-04-04  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.8\n\n* inst/include/spdlog/*: New upstream release spdlog 1.10.0\n</code></pre> <p>2021-12-05  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.7\n</code></pre> <p>2021-11-20  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* vignettes/water.css: Added css file\n</code></pre> <p>2021-11-19  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll minor version\n\n* vignettes/introduction.md: Converted from Rmd to simplermarkdown\n* DESCRIPTION: Switched VignetteBuilder: to simplermarkdown\n</code></pre> <p>2021-08-12  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll minor version\n\n* inst/include/spdlog/*: New upstream release spdlog 1.9.2\n</code></pre> <p>2021-07-27  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Roll minor version\n\n* inst/include/spdlog/*: New upstream release spdlog 1.9.1\n</code></pre> <p>2021-07-21  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.6\n\n* inst/include/spdlog/*: New upstream spdlog 1.9.0 (with fmt 8.x)\n</code></pre> <p>2021-03-28  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* docs/mkdmt-src/: Moved mkdocs-material input\n</code></pre> <p>2021-03-27  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.5\n</code></pre> <p>2021-03-25  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog/*: New upstream release spdlog 1.8.4 + 1.8.5\n</code></pre> <p>2021-03-24  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Description): Mention Gabi explicitly\n(URL): List GitHub repo and package pages\n(BugReports): List GitHub issues pages\n\n* inst/include/spdlog/*: New upstream release spdlog 1.8.3\n</code></pre> <p>2020-12-25  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* .github/workflows/ci.yaml: Small tweaks to CI YAML file\n</code></pre> <p>2020-12-11  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.4\n\n* inst/include/spdlog/*: New upstream release spdlog 1.8.2\n\n* .github/workflows/ci.yaml: Add CI runner using r-ci\n</code></pre> <p>2020-10-23  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.3\n\n* docs/: Added package website\n    * docs-src/: Added package website inputs\n</code></pre> <p>2020-10-19  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* README.md: Updated example\n</code></pre> <p>2020-10-08  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* vignettes/introduction.Rmd (vignette): Compile-time example added\n</code></pre> <p>2020-10-04  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* vignettes/introduction.Rmd (vignette): New (draft) vignette\n\n* DESCRIPTION (VignetteBuilder): Add knitr\n(Suggests): Add knitr, rmarkdown, minidown\n\n* inst/examples/exampleTwo.cpp (exampleTwo): Added cleanup at end\nwith logger removal to permit multiple calls to example function\n* inst/examples/exampleThree.cpp (exampleThree): Idem\n</code></pre> <p>2020-10-01  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog/*: Upgraded to upstream release 1.8.1\n</code></pre> <p>2020-09-30  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/exampleRsink.cpp (exampleRsink): Use default logger instance\n</code></pre> <p>2020-09-29  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/exampleRsink.cpp (setLogLevel): New function\n* R/RcppExports.R (exampleRsink): R accessor\n* man/setLogLevel.Rd: Documentation\n</code></pre> <p>2020-09-28  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog/logger-inl.h: Synchronised with our PR #1685\nswitching to REprintf() if R_R_H and USING_R defined\n\n* inst/include/RcppSpdlog: Include R.h so that R_R_H and USING_R\ndefined, define SPDLOG_DISABLE_DEFAULT_LOGGER here\n* src/exampleRsink.cpp: Removed SPDLOG_DISABLE_DEFAULT_LOGGER def.\n</code></pre> <p>2020-09-17  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.2\n\n* inst/include/spdlog/*: Upgraded to upstream release 1.8.0\n* inst/include/spdlog/logger-inl.h: Switch to REprintf as before\n\n* .travis.yml: Use BSPM, turn os macOS\n\n* src/exampleRsink.cpp (exampleRsink): Add 'stopwatch' demo\n</code></pre> <p>2020-09-08  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* DESCRIPTION (Version, Date): Version 0.0.1\n</code></pre> <p>2020-08-21  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* src/exampleRsink.cpp: Renamed from exampleFour()\n* man/exampleRsink.Rd: Idem\n* src/RcppExports.cpp: Updated\n* R/RcppExports.R: Idem\n\n* README.md: Some more edits\n</code></pre> <p>2020-08-20  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/RcppSpdlog: Easy wrapper for spdlog and R sink\n* inst/include/rcpp_sink.h: A sink for R using Rcpp::Rcout\n\n* src/exampleFour.cpp: Rewritten and now R CMD check clean\n* inst/examples/examplesFour.cpp: Now in src/, R sink in its header\n\n* README.md: Edited, added two badges\n\n* cleanup: Added\n* .editorconfig: Idem\n</code></pre> <p>2020-08-19  Dirk Eddelbuettel  edd@debian.org</p> <pre><code>* inst/include/spdlog/*: Using spdlog version 1.7\n* inst/examples/*: Four simple usage examples\n\n* .travis.yml: Added though no real tests present\n\n* src/exampleFour.cpp (exampleFour): Simple wrapper around simple\nRcpp logger class which still triggers R warnings\n* man/exampleFour.Rd: Basic help page\n* src/RcppExports.cpp: Generated\n* src/Makevars: Added\n* R/RcppExports.R: Idem\n* NAMESPACE: Added\n* DESCRIPTION: Added Imports: and LinkingTo: for Rcpp\n</code></pre>"},{"location":"CHANGELOG2/","title":"CHANGELOG2","text":""},{"location":"CHANGELOG2/#2026","title":"2026","text":"<p>2026-02-12  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.27\n</code></pre> <p>2026-02-11  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * inst/include/RcppSpdlog: Disallow use of std::format under C++20; \n    intended to be temporary while a better solutions is worked out \n    * src/formatter.cpp: Switch back to fmt::format under C++20\n</code></pre> <p>2026-01-27  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * .github/workflows/ci.yaml: Switch to actions/checkout@v6\n</code></pre> <p>2026-01-16  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.26\n\n    * inst/include/RcppSpdlog: Under C++20 or later, switch to \n    SPDLOG_USE_STD_FORMAT (unless opted-out), avoiding CRAN nag\n</code></pre> <p>2026-01-15  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.25\n</code></pre> <p>2026-01-14  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/RcppSpdlog: Add two '#undef' to avoid compilation noise\n</code></pre> <p>2026-01-07  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.24\n</code></pre> <p>2026-01-04  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog/*: New upstream release spdlog 1.17.0 (which \n    includes fmt 12.1.0)\n</code></pre>"},{"location":"CHANGELOG2/#2025","title":"2025","text":"<p>2025-10-15  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * docs/*: Refreshed with ChangeLog years tweak\n</code></pre> <p>2025-10-13  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * docs/*: Refreshed with syntax highlighting enabled\n</code></pre> <p>2025-10-12  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * docs/*: Refreshed under updated altdoc\n</code></pre> <p>2025-10-11  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.23\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.16.0 (which \n    includes fmt 12.0)\n\n    * docs/: Regenerated using altdoc with mkdocs-material \n    * .github/altdoc: Added and customized\n</code></pre> <p>2025-06-28  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * .github/workflows/ci.yaml: Use r-ci action with embedded bootstrap\n</code></pre> <p>2025-05-09  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.22\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.15.3 (which \n    includes fmt 11.2.0)\n</code></pre> <p>2025-03-30  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.21\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.15.2 (which \n    includes fmt 11.1.4)\n</code></pre> <p>2025-02-01  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.20\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.15.1\n</code></pre>"},{"location":"CHANGELOG2/#2024","title":"2024","text":"<p>2024-12-10  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/examples/exampleFour.cpp: New multi-threaded logging example \n    based on code by Young Geun Kim in GitHub issue #22\n</code></pre> <p>2024-11-10  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.19\n\n    * src/formatter.cpp: Partially revert / simplify previous PR\n</code></pre> <p>2024-11-09  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog/*: New upstream release spdlog 1.15.0\n</code></pre> <p>2024-10-29  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * inst/include/rcpp_sink.h: Move C++20 or greater check here, micro edit\n</code></pre> <p>2024-10-29  Xanthos Xanthopoulos  xanxanthopoulos@gmail.com </p> <pre><code>    * inst/include/rcpp_sink.h: Use spdlog::memory_buf_t as string when \n    building under C++20 with SPDLOG_USE_STD_FORMAT \n    * inst/include/RcppSpdlog_types.h: Abort compilation if \n    SPDLOG_USE_STD_FORMAT without C++20 or greater \n    * inst/include/spdl.h: Use std::vformat if SPDLOG_USE_STD_FORMAT flag \n    is set \n    * src/formatter.cpp: Idem\n</code></pre> <p>2024-10-13  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n</code></pre> <p>2024-10-13  Contantinos Giachalis  cgiachalis@outlook.com </p> <pre><code>    * src/interface.cpp (log_setup): Documentation fix for duplicate log level \n    * man/log_setup.Rd: Idem \n    * R/RcppExports.R: Idem\n</code></pre> <p>2024-09-10  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.18\n</code></pre> <p>2024-09-09  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * src/interface.cpp (log_setup): Also support environment-level \n    setter via `SPDLOG_LEVEL` \n    * inst/include/RcppSpdlog: Include spdlog/cfg/env.h as now needed\n</code></pre> <p>2024-05-17  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * README.md: Use tinyverse.netlify.app for dependency badge\n</code></pre> <p>2024-05-05  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog/*: New upstream release spdlog 1.14.1\n</code></pre> <p>2024-04-25  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.17\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.14.0\n</code></pre> <p>2024-04-02  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * .github/workflows/ci.yaml (jobs): Update to actions/checkout@v4, \n    add r-ci-setup actions\n</code></pre> <p>2024-01-12  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.16\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.13.0\n</code></pre>"},{"location":"CHANGELOG2/#2023","title":"2023","text":"<p>2023-11-29  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.15\n\n    * src/RcppExports.cpp: Regenerated under updated Rcpp to address \n    format string issue reported by R-devel\n\n    * man/RcppSpdlog-package.Rd: Remove some empty default entries\n</code></pre> <p>2023-07-09  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.14\n</code></pre> <p>2023-07-08  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.12.0\n</code></pre> <p>2023-06-28  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * README.md: Add r-universe badge\n</code></pre> <p>2023-06-17  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.13\n</code></pre> <p>2023-06-13  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * src/interface.cpp (log_init): Add a simple convenience wrapper to \n    log_setup() which omits the first 'logger name' argument\n\n    * inst/include/spdl.h: Define convenience wrappers init() and log()\n</code></pre> <p>2023-03-19  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * src/Makevars: No longer set a C++ standard\n\n    * R/RcppExports.R (setLoadAction): Updated .Call using backticks\n</code></pre> <p>2023-01-17  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog_stopwatch.h: Define stopwatch without fmt.h header \n    * inst/include/RcppSpdlog_types.h: Use spdlog_stopwatch if #define set\n</code></pre> <p>2023-01-07  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.12\n</code></pre>"},{"location":"CHANGELOG2/#2022","title":"2022","text":"<p>2022-12-27  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * src/interface.cpp: Add documentation reference for format pattern \n    * man/log_setup.Rd: Idem \n    * R/RcppExports.R: Idem\n</code></pre> <p>2022-12-25  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdl.h: Wrap three RcppSpdlog::*_stopwatch() functions\n</code></pre> <p>2022-12-23  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * src/interface.cpp: Split stopwatch documentation off \n    * man/get_stopwatch.Rd: Idem \n    * man/log_setup.Rd: Idem \n    * src/RcppExports.cpp: Idem \n    * R/RcppExports.R: Idem\n</code></pre> <p>2022-12-22  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * src/interface.cpp: Define and document three new functions for stopwatch \n    * R/RcppExports.R: Export new functions \n    * src/RcppExports.cpp: Idem \n    * inst/include/RcppSpdlog_RcppExports.h: Idem \n    * inst/include/RcppSpdlog_types.h: Include stopwatch, add XPtr template \n    * inst/include/RcppSpdlog: Use new header \n    * man/log_setup.Rd: Add documentation \n    * R/stopwatch.R: Add two S3 methods for stopwatch objects \n    * NAMESPACE: Export methods\n\n    * inst/include/rcpp_sink.h: Use lighter Rcpp interface\n</code></pre> <p>2022-12-13  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.11\n\n    * vignettes/introduction.md: Microedit\n</code></pre> <p>2022-12-12  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * src/interface.cpp (log_filesetup): Setup (simple) file-based logger \n    * R/RcppExports.R: R accessor \n    * src/RcppExports.cpp: Autogenerated export for C level access \n    * inst/include/RcppSpdlog_RcppExports.h: Idem \n    * inst/include/rcpp_sink.h: Added #include \n    * man/log_setup.Rd: Added documentation \n    * inst/include/spdl.h: Added in spdl namespace\n</code></pre> <p>2022-12-02  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * README.md: Mention the new spdl package\n</code></pre> <p>2022-11-18  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * src/formatter.cpp: Export to C++ to make formatter() callable \n    * src/RcppExports.cpp: Autogenerated export for C level access \n    * inst/include/RcppSpdlog_RcppExports.h: Idem\n</code></pre> <p>2022-11-17  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.10\n\n    * vignettes/introduction.md: More edits\n</code></pre> <p>2022-11-15  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>     * src/formatter.cpp (formatter): Add formatting helper which passes \n    logging string to fmt::format() enable fmt's \"format\" from R \n    * src/RcppExports.cpp: Ditto \n    * R/RcppExports.R (formatter): Ditto \n    * man/formatter.Rd: Docs\n\n    * inst/include/spdl.h: Include fmtlib::fmt via spdlog\n</code></pre> <p>2022-11-14  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * inst/include/spdl.h: Use variadic templates to fmt::format\n</code></pre> <p>2022-11-04  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.9\n</code></pre> <p>2022-11-03  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.11.0\n\n     * vignettes/introduction.md: Small edits\n</code></pre> <p>2022-11-02  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * vignettes/introduction.md: New sections for access from R and C++\n</code></pre> <p>2022-11-01  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * inst/include/RcppSpdlog: Ad second shorter namespace 'spdl' with \n    shorter (inlined) function names as simpler accessors\n\n     * vignettes/introduction.md: Two new sections on access from R and \n    C++, respectively\n</code></pre> <p>2022-10-31  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n</code></pre> <p>2022-10-30  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll micro release version\n\n    * src/interface.cpp: Add R interface to spdlog \n    * man/log_setup.Rd: Documentation\n\n    * .github/workflows/ci.yaml (jobs): Update to actions/checkout@v3\n\n    * src/interface.cpp: Activate R and C++ interface generation \n    * R/RcppExports.R: Updated accordingly \n    * src/RcppExports.cpp: Idem \n    * inst/include/RcppSpdlog.h: Generated \n    * inst/include/RcppSpdlog_RcppExports.h: Idem\n</code></pre> <p>2022-04-04  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.8\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.10.0\n</code></pre>"},{"location":"CHANGELOG2/#2021","title":"2021","text":"<p>2021-12-05  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.7\n</code></pre> <p>2021-11-20  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * vignettes/water.css: Added css file\n</code></pre> <p>2021-11-19  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll minor version\n\n    * vignettes/introduction.md: Converted from Rmd to simplermarkdown \n    * DESCRIPTION: Switched VignetteBuilder: to simplermarkdown\n</code></pre> <p>2021-08-12  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll minor version\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.9.2\n</code></pre> <p>2021-07-27  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Roll minor version\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.9.1\n</code></pre> <p>2021-07-21  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.6\n\n    * inst/include/spdlog/*: New upstream spdlog 1.9.0 (with fmt 8.x)\n</code></pre> <p>2021-03-28  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * docs/mkdmt-src/: Moved mkdocs-material input\n</code></pre> <p>2021-03-27  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.5\n</code></pre> <p>2021-03-25  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog/*: New upstream release spdlog 1.8.4 + 1.8.5\n</code></pre> <p>2021-03-24  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Description): Mention Gabi explicitly \n    (URL): List GitHub repo and package pages \n    (BugReports): List GitHub issues pages\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.8.3\n</code></pre>"},{"location":"CHANGELOG2/#2020","title":"2020","text":"<p>2020-12-25  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * .github/workflows/ci.yaml: Small tweaks to CI YAML file\n</code></pre> <p>2020-12-11  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * DESCRIPTION (Version, Date): Version 0.0.4\n\n    * inst/include/spdlog/*: New upstream release spdlog 1.8.2\n\n    * .github/workflows/ci.yaml: Add CI runner using r-ci\n</code></pre> <p>2020-10-23  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>     * DESCRIPTION (Version, Date): Version 0.0.3\n\n    * docs/: Added package website \n    * docs-src/: Added package website inputs\n</code></pre> <p>2020-10-19  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * README.md: Updated example\n</code></pre> <p>2020-10-08  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * vignettes/introduction.Rmd (vignette): Compile-time example added\n</code></pre> <p>2020-10-04  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * vignettes/introduction.Rmd (vignette): New (draft) vignette\n\n    * DESCRIPTION (VignetteBuilder): Add knitr \n    (Suggests): Add knitr, rmarkdown, minidown\n\n    * inst/examples/exampleTwo.cpp (exampleTwo): Added cleanup at end \n    with logger removal to permit multiple calls to example function \n    * inst/examples/exampleThree.cpp (exampleThree): Idem\n</code></pre> <p>2020-10-01  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog/*: Upgraded to upstream release 1.8.1\n</code></pre> <p>2020-09-30  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * src/exampleRsink.cpp (exampleRsink): Use default logger instance\n</code></pre> <p>2020-09-29  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * src/exampleRsink.cpp (setLogLevel): New function \n    * R/RcppExports.R (exampleRsink): R accessor \n    * man/setLogLevel.Rd: Documentation\n</code></pre> <p>2020-09-28  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog/logger-inl.h: Synchronised with our PR #1685 \n    switching to REprintf() if R_R_H and USING_R defined\n\n    * inst/include/RcppSpdlog: Include R.h so that R_R_H and USING_R \n    defined, define SPDLOG_DISABLE_DEFAULT_LOGGER here \n    * src/exampleRsink.cpp: Removed SPDLOG_DISABLE_DEFAULT_LOGGER def.\n</code></pre> <p>2020-09-17  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>     * DESCRIPTION (Version, Date): Version 0.0.2\n\n    * inst/include/spdlog/*: Upgraded to upstream release 1.8.0 \n    * inst/include/spdlog/logger-inl.h: Switch to REprintf as before\n\n    * .travis.yml: Use BSPM, turn os macOS\n\n    * src/exampleRsink.cpp (exampleRsink): Add 'stopwatch' demo\n</code></pre> <p>2020-09-08  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>     * DESCRIPTION (Version, Date): Version 0.0.1\n</code></pre> <p>2020-08-21  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * src/exampleRsink.cpp: Renamed from exampleFour() \n    * man/exampleRsink.Rd: Idem \n    * src/RcppExports.cpp: Updated \n    * R/RcppExports.R: Idem\n\n    * README.md: Some more edits\n</code></pre> <p>2020-08-20  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/RcppSpdlog: Easy wrapper for spdlog and R sink \n    * inst/include/rcpp_sink.h: A sink for R using Rcpp::Rcout\n\n    * src/exampleFour.cpp: Rewritten and now R CMD check clean \n    * inst/examples/examplesFour.cpp: Now in src/, R sink in its header\n\n    * README.md: Edited, added two badges\n\n    * cleanup: Added \n    * .editorconfig: Idem\n</code></pre> <p>2020-08-19  Dirk Eddelbuettel  edd@debian.org </p> <pre><code>    * inst/include/spdlog/*: Using spdlog version 1.7 \n    * inst/examples/*: Four simple usage examples\n\n    * .travis.yml: Added though no real tests present\n\n    * src/exampleFour.cpp (exampleFour): Simple wrapper around simple \n    Rcpp logger class which still triggers R warnings \n    * man/exampleFour.Rd: Basic help page \n    * src/RcppExports.cpp: Generated \n    * src/Makevars: Added \n    * R/RcppExports.R: Idem \n    * NAMESPACE: Added \n    * DESCRIPTION: Added Imports: and LinkingTo: for Rcpp\n</code></pre>"},{"location":"CITATION/","title":"Citation","text":"<p>To cite RcppSpdlog in publications use:</p> <p>Eddelbuettel D, Melman G, Zverovic V (2026). RcppSpdlog: R and C++ Interfaces to 'spdlog' C++ Header Library for Logging. doi:10.32614/CRAN.package.RcppSpdlog, R package version 0.0.27.  </p>"},{"location":"NEWS/","title":"News for Package RcppSpdlog","text":""},{"location":"NEWS/#changes-in-rcppspdlog-version-0027-2026-02-11","title":"Changes in RcppSpdlog version 0.0.27 (2026-02-11)","text":"<ul> <li>  Under C++20 or later, keep relying on <code>fmt::format</code> until issues experienced using <code>std::format</code> can be identified and resolved  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0026-2026-01-16","title":"Changes in RcppSpdlog version 0.0.26 (2026-01-16)","text":"<ul> <li>  Under C++20 or later, switch to using <code>std::format</code> to avoid a compiler nag that CRAN now complains about  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0025-2026-01-15","title":"Changes in RcppSpdlog version 0.0.25 (2026-01-15)","text":"<ul> <li>  Ensure <code>#define</code> signaling R build (needed with spdlog) is unset before including R headers to not falsely triggering message from Rcpp  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0024-2026-01-07","title":"Changes in RcppSpdlog version 0.0.24 (2026-01-07)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.17.0 (including fmt 12.1.0)  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0023-2025-10-11","title":"Changes in RcppSpdlog version 0.0.23 (2025-10-11)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.16.0 (including fmt 12.0)  </li> <li>  The mkdocs-material documentation site is now generated via altdoc </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0022-2025-05-09","title":"Changes in RcppSpdlog version 0.0.22 (2025-05-09)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.15.3 (including fmt 11.2.0)  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0021-2025-03-30","title":"Changes in RcppSpdlog version 0.0.21 (2025-03-30)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.15.2 (including fmt 11.1.4)  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0020-2025-02-01","title":"Changes in RcppSpdlog version 0.0.20 (2025-02-01)","text":"<ul> <li>  New multi-threaded logging example (Young Geun Kim and Dirk via [#22](https://github.com/eddelbuettel/rcppspdlog/issues/22))  </li> <li>  Upgraded to upstream release spdlog 1.15.1  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0019-2024-11-10","title":"Changes in RcppSpdlog version 0.0.19 (2024-11-10)","text":"<ul> <li>  Support use of <code>std::format</code> under C++20 via opt-in define instead of <code>fmt</code> (Xanthos Xanthopoulos in [#19](https://github.com/eddelbuettel/rcppspdlog/issues/19))  </li> <li>  An erroneous duplicate log=level documentation level was removed (Contantinos Giachalis in [#20](https://github.com/eddelbuettel/rcppspdlog/issues/20))  </li> <li>  Upgraded to upstream release spdlog 1.15.0 (Dirk in [#21](https://github.com/eddelbuettel/rcppspdlog/issues/21))  </li> <li>  Partially revert / simplify <code>src/formatter.cpp</code> accomodating both [#19](https://github.com/eddelbuettel/rcppspdlog/issues/19) and previous state (Dirk in [#21](https://github.com/eddelbuettel/rcppspdlog/issues/21))  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0018-2024-09-10","title":"Changes in RcppSpdlog version 0.0.18 (2024-09-10)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.14.1  </li> <li>  Minor packaging upgrades  </li> <li>  Allow logging levels to be set via environment variable <code>SPDLOG_LEVEL</code> </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0017-2024-04-25","title":"Changes in RcppSpdlog version 0.0.17 (2024-04-25)","text":"<ul> <li>  Minor continuous integration update  </li> <li>  Upgraded to upstream release spdlog 1.14.0  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0016-2024-01-12","title":"Changes in RcppSpdlog version 0.0.16 (2024-01-12)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.13.0  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0015-2023-11-29","title":"Changes in RcppSpdlog version 0.0.15 (2023-11-29)","text":"<ul> <li>  Correct default package help page slighly  </li> <li> <code>RcppExports.cpp</code> has been regenerated under an updated Rcpp to address a format string warning under R-devel  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0014-2023-07-09","title":"Changes in RcppSpdlog version 0.0.14 (2023-07-09)","text":"<ul> <li>  Added new badge to README.md  </li> <li>  Upgraded to upstream release spdlog 1.12.0  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0013-2023-06-17","title":"Changes in RcppSpdlog version 0.0.13 (2023-06-17)","text":"<ul> <li>  Minor tweak to <code>stopwatch</code> setup avoids pulling in fmt </li> <li>  No longer set a C++ compilation standard as the default choices by R are sufficient for the package  </li> <li>  Add convenience wrapper <code>log_init</code> omitting first argument to <code>log_setup</code> while preserving the interface from the latter  </li> <li>  Add convenience <code>setup</code> wrappers <code>init</code> and <code>log</code> to API header file <code>spdl.h</code> </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0012-2023-01-07","title":"Changes in RcppSpdlog version 0.0.12 (2023-01-07)","text":"<ul> <li>  Addeed support for \u2018stopwatch\u2019 object allowing for simple timing (from both C++ and R) via the logging framework.  </li> <li>  The \u2018spdlog\u2019 logging pattern is documented via a reference.  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0011-2022-12-13","title":"Changes in RcppSpdlog version 0.0.11 (2022-12-13)","text":"<ul> <li>  Export the formatter at C level  </li> <li>  Mention package spdl in README.md  </li> <li>  Support simple file-based logger  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-0010-2022-11-17","title":"Changes in RcppSpdlog version 0.0.10 (2022-11-17)","text":"<ul> <li>  Support variadic templates with fmt::format  </li> <li>  Add R formatting helper which converts arguments to character taking advantage of variadic template logger: fmt logging from R  </li> <li>  Expand vignette  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-009-2022-11-04","title":"Changes in RcppSpdlog version 0.0.9 (2022-11-04)","text":"<ul> <li>  Add both an R and an C++ interface to <code>spdlog</code> </li> <li>  Update GitHub Actions to checkout@v3  </li> <li>  Add a shorter aliased namespace for C++  </li> <li>  Upgraded to upstream release spdlog 1.11.0  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-008-2022-04-04","title":"Changes in RcppSpdlog version 0.0.8 (2022-04-04)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.10.0  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-007-2021-12-05","title":"Changes in RcppSpdlog version 0.0.7 (2021-12-05)","text":"<ul> <li>  Upgraded to upstream bug fix releases spdlog 1.9.1 and 1.9.2  </li> <li>  Travis artifacts and badges have been pruned  </li> <li>  Vignette now uses simplermarkdown </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-006-2021-07-21","title":"Changes in RcppSpdlog version 0.0.6 (2021-07-21)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.9.0  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-005-2020-12-11","title":"Changes in RcppSpdlog version 0.0.5 (2020-12-11)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.8.5 (and 1.8.4 and 1.8.3)  </li> <li>  Small enhancements to DESCRIPTION files  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-004-2020-12-11","title":"Changes in RcppSpdlog version 0.0.4 (2020-12-11)","text":"<ul> <li>  Upgraded to upstream release spdlog 1.8.2  </li> <li>  Added GitHub Actions CI using <code>run.sh</code> from r-ci </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-003-2020-10-23","title":"Changes in RcppSpdlog version 0.0.3 (2020-10-23)","text":"<ul> <li>  New function <code>setLogLevel</code> with R accessor in <code>exampleRsink</code> example  </li> <li>  Updated <code>exampleRsink</code> to use default logger instance  </li> <li>  Upgraded to upstream release 1.8.1 which contains finalised upstream use to switch to REprintf() if R compilation detected  </li> <li>  Added new vignette with extensive usage examples, added compile-time logging switch example  </li> <li>  A package documentation website was added  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-002-2020-09-17","title":"Changes in RcppSpdlog version 0.0.2 (2020-09-17)","text":"<ul> <li>  Upgraded to upstream release 1.8.0  </li> <li>  Switched Travis CI to using BSPM, also test on macOS  </li> <li>  Added \u2018stopwatch\u2019 use to main R sink example  </li> </ul>"},{"location":"NEWS/#changes-in-rcppspdlog-version-001-2020-09-08","title":"Changes in RcppSpdlog version 0.0.1 (2020-09-08)","text":"<ul> <li>  Initial release with added R/Rcpp logging sink example  </li> </ul>"},{"location":"man/RcppSpdlog-package/","title":"RcppSpdlog-package","text":""},{"location":"man/RcppSpdlog-package/#description","title":"Description","text":""},{"location":"man/RcppSpdlog-package/#details","title":"Details","text":"<p>The DESCRIPTION file:</p> <p>This section should provide a more detailed overview of how to use the package, including the most important functions.</p>"},{"location":"man/RcppSpdlog-package/#authors","title":"Author(s)","text":"<p>Maintainer:</p>"},{"location":"man/exampleRsink/","title":"spdlog Example using a sink for R","text":"<p>Source code</p>"},{"location":"man/exampleRsink/#description","title":"Description","text":"<p>A simple example invoking a derived R/Rcpp logger. Also demonstrates the stopwatch feature. For more features see the \u2018spdlog\u2019 documnetation.</p>"},{"location":"man/exampleRsink/#usage","title":"Usage","text":"<pre><code>exampleRsink()\n</code></pre>"},{"location":"man/exampleRsink/#details","title":"Details","text":"<p>Note that this no longer triggers R warnings thanks to excellent help by Gabi Melman.</p>"},{"location":"man/exampleRsink/#value","title":"Value","text":"<p>None</p>"},{"location":"man/exampleRsink/#examples","title":"Examples","text":"<pre><code>library(\"RcppSpdlog\")\n\nexampleRsink()\n</code></pre> <pre><code>[14:16:01.129698] [fromR] [I] [thread 216] Welcome to spdlog!\n[14:16:01.129751] [fromR] [E] [thread 216] Some error message with arg: 1\n[14:16:01.129754] [fromR] [I] [thread 216] Elapsed time: 5.9513e-05\n[14:16:01.129756] [fromR] [W] [thread 216] Easy padding in numbers like 00000012\n[14:16:01.129758] [fromR] [C] [thread 216] Support for int: 42;  hex: 2a;  oct: 52; bin: 101010\n[14:16:01.129760] [fromR] [I] [thread 216] Support for floats 1.23\n[14:16:01.129761] [fromR] [I] [thread 216] Positional args are supported too..\n[14:16:01.129763] [fromR] [I] [thread 216] left aligned                  \n[14:16:01.129764] [fromR] [I] [thread 216] Elapsed time: 7.0283e-05\n</code></pre>"},{"location":"man/formatter/","title":"Simple Pass-Through Formatter to <code>fmt::format()</code>","text":""},{"location":"man/formatter/#description","title":"Description","text":"<p>The C-level interface of R does not make it easy to pass <code>\u2026</code> arguments. This helper function assumes it has already been called with <code>format()</code> on each argument (as a wrapper can do) so it just spreads out the class to <code>fmt::format{}</code> which, being C++, uses variadic templates to receive the arguments. The main motivation for this function to able to format string as use by the \u2018fmtlib::fmt\u2019 library included in \u2018spdlog\u2019 to write similar debug strings in both R and C++. This function permits R calls with multiple arguments of different types which (by being formatted on the R side) are handled as strings (whereas C++ logging has access to the templating logic).</p>"},{"location":"man/formatter/#usage","title":"Usage","text":"<pre><code>formatter(s, v)\n</code></pre>"},{"location":"man/formatter/#arguments","title":"Arguments","text":"<code>s</code>  A character variable with a format string for \u2018fmtlib::fmt\u2019  <code>v</code>  A character vector with the logging string arguments."},{"location":"man/formatter/#value","title":"Value","text":"<p>A single (formatted) string</p>"},{"location":"man/formatter/#see-also","title":"See Also","text":"<p>https://github.com/fmtlib/fmt</p>"},{"location":"man/get_stopwatch/","title":"R Accessor Functions for spdlog Stopwatch","text":"<p>Source code</p>"},{"location":"man/get_stopwatch/#description","title":"Description","text":"<p>A set of functions provides access to the <code>spdlog</code> stopwatch facilty. As <code>stopwatch</code> object is a simple container around a C++ <code>std::chrono</code> object which (essentially) reports elapsed-time since creation. The object is exported to R via an external pointer permitting use from both R and C++.</p>"},{"location":"man/get_stopwatch/#usage","title":"Usage","text":"<pre><code>get_stopwatch()\n\nelapsed_stopwatch(sw)\n\nformat_stopwatch(sw)\n\n# S3 method for class 'stopwatch'\nprint(x, ...)\n\n# S3 method for class 'stopwatch'\nformat(x, ...)\n</code></pre>"},{"location":"man/get_stopwatch/#arguments","title":"Arguments","text":"<code>sw</code>  An S3 object of type <code>stopwatch</code>.  <code>x</code>  An S3 object of type <code>stopwatch</code>.  <code>\u2026</code>  Dotted argument required by generic, unused here."},{"location":"man/get_stopwatch/#details","title":"Details","text":"<p>Several functions are provided:</p> <code>get_stopwatch</code>  Returns a stopwatch object (as an S3 object).  <code>elapsed_stopwatch</code>  Returns elapsed time for stopwatch in seconds.  <code>format_stopwatch</code>  Returns elapsed time for stopwatch as character variable.  <p>The <code>stopwatch</code> object has <code>print</code> and <code>format</code> methods.</p>"},{"location":"man/get_stopwatch/#value","title":"Value","text":"<p>The desired object is returned: respectively, a stopwatch object as an external pointer in an S3 class, the elapsed time in seconds as a double, or formatted as a character variable.</p>"},{"location":"man/get_stopwatch/#examples","title":"Examples","text":"<pre><code>library(\"RcppSpdlog\")\n\nw &lt;- get_stopwatch()\nSys.sleep(0.2)\nelapsed_stopwatch(w)\n</code></pre> <pre><code>[1] 0.2009362\n</code></pre> <pre><code>format_stopwatch(w)\n</code></pre> <pre><code>[1] \"0.201288\"\n</code></pre>"},{"location":"man/log_setup/","title":"R Accessor Functions for spdlog Logger","text":"<p>Source code</p>"},{"location":"man/log_setup/#description","title":"Description","text":"<p>Several R-level functions can access the <code>spdlog</code> logging facilties. As <code>spdlog</code> is a C++-level logging library, these are R function permit concurrent logging from both R and C++.</p>"},{"location":"man/log_setup/#usage","title":"Usage","text":"<pre><code>log_setup(name = \"default\", level = \"warn\")\n\nlog_init(level = \"warn\")\n\nlog_filesetup(filename, name = \"default\", level = \"warn\")\n\nlog_drop(name)\n\nlog_set_pattern(s)\n\nlog_set_level(s)\n\nlog_trace(s)\n\nlog_debug(s)\n\nlog_info(s)\n\nlog_warn(s)\n\nlog_error(s)\n\nlog_critical(s)\n</code></pre>"},{"location":"man/log_setup/#arguments","title":"Arguments","text":"<code>name</code>  A character variable with the logging instance name, default value is \u2018default\u2019.  <code>level</code>  A character variable with the default logging level, default value is \u2018warn\u2019.  <code>filename</code>  A character variable with the logging filename if a file-based logger is instantiated.  <code>s</code>  A character variable with the logging pattern, level or message."},{"location":"man/log_setup/#details","title":"Details","text":"<p>Several functions are provided:</p> <code>log_setup</code>  Initializes a logger (which becomes the default logger).  <code>log_filesetup</code>  Initializes a file-based logger (which becomes the default).  <code>log_drop</code>  Removes logger (which in general should not be needed).  <code>log_set_pattern</code>  Changes the default logging message pattern.  <code>log_set_level</code>  Sets the logging level threshold.  <code>log_trace</code>  Logs a trace-level message.  <code>log_debug</code>  Logs a debug-level message.  <code>log_info</code>  Logs a info-level message.  <code>log_warn</code>  Logs a warn-level message.  <code>log_error</code>  Logs a error-level message.  <code>log_critical</code>  Logs a critical-level message.  <p>Supported logging levels are, in order of increasing threshold values, \u2018trace\u2019, \u2018debug\u2019, \u2018info\u2019, \u2018warn\u2019, \u2018error\u2019, and \u2018critical\u2019. A message issued below the current threshold is not displayed whereas a message at or above the current threshold is displayed. The default level is \u2018warn\u2019.</p>"},{"location":"man/log_setup/#value","title":"Value","text":"<p>Nothing is returned from these functions as they are invoked for their side-effects.</p>"},{"location":"man/log_setup/#see-also","title":"See Also","text":"<p>The logging pattern format is described in at the repo in the page https://github.com/gabime/spdlog/wiki/3.-Custom-formatting.</p>"},{"location":"man/log_setup/#examples","title":"Examples","text":"<pre><code>library(\"RcppSpdlog\")\n\nlog_setup(\"demo\")  # at default level 'warn'\nlog_info(\"this message is NOT seen\")\nlog_set_level(\"debug\")\nlog_info(\"this message is seen\")\n</code></pre> <pre><code>[2025-10-11 14:16:03.482] [demo] [Process: 358] [info] this message is seen\n</code></pre> <pre><code>log_warn(\"as is this message\")\n</code></pre> <pre><code>[2025-10-11 14:16:03.482] [demo] [Process: 358] [warning] as is this message\n</code></pre>"},{"location":"man/setLogLevel/","title":"spdlog Logging Lever Setter","text":""},{"location":"man/setLogLevel/#description","title":"Description","text":"<p>A helper function to turn a logging level given as string into the current logging level</p>"},{"location":"man/setLogLevel/#usage","title":"Usage","text":"<pre><code>setLogLevel(name)\n</code></pre>"},{"location":"man/setLogLevel/#arguments","title":"Arguments","text":"<code>name</code>  A string with the logging level. Value understood are, in decreasing verbosity \u2018trace\u2019, \u2018debug\u2019, \u2018info\u2019, \u2018warning\u2019, \u2018error\u2019, \u2018critical\u2019, and \u2018off\u2019. Unrecognised names are equivalent to \u2018off\u2019."},{"location":"man/setLogLevel/#value","title":"Value","text":"<p>Nothing is returned.</p>"},{"location":"vignettes/introduction/","title":"introduction","text":"<p>title: \"Introduction to RcppSpdlog\" author: \"Dirk Eddelbuettel\" date: \"Initial version dated October 2020. Expanded November 2022.\" css: \"water.css\"</p>"},{"location":"vignettes/introduction/#introducing-rcppspdlog","title":"Introducing RcppSpdlog","text":"<p>spdlog is a widely-used and very capable header-only C++ library for logging. The RcppSpdlog package provides R users with easy-to-use customized access to the spdlog logging library by including its headers in an R package which permit other R packages to deploy it via a simple <code>LinkingTo: RcppSpdlog</code> as described in Section 1.1.3 of WRE.</p> <p>spdlog is mature and widely deployed. It also has a very rich set of features described at the repository wiki. This vignette will highlight a few first use cases.</p> <p>Note that in order to use RcppSpdlog in an R package that might get distributed to CRAN, the code should follow the example R and C++ code in function <code>exampleRsink()</code> as described below.</p> <p>We will however start with some simpler examples. Do not copy those into your R package. The package checks used by R test for use of <code>stdout</code> and <code>stderr</code> which is why the customized setup described later is preferable.</p>"},{"location":"vignettes/introduction/#initial-example-basics","title":"Initial example: Basics","text":"<p>This example follows the simplest and initial example in the spdlog. It is also included in the RcppSpdlog package as examples/exampleOne.cpp. As discussed above, do not use this example as a starting point in an R package.</p> <pre><code>// based on the 'basic usage' example in the README.md at https://github.com/gabime/spdlog\n\n#include \"spdlog/spdlog.h\"\n\n#include &lt;Rcpp.h&gt;\n\n// [[Rcpp::depends(RcppSpdlog)]]\n\n// [[Rcpp::export]]\nvoid exampleOne() {\n\n  // change log pattern (changed from [%H:%M:%S %z] [%n] [%^---%L---%$] )\n  spdlog::set_pattern(\"[%H:%M:%S.%f] [%L] [thread %t] %v\");\n\n  spdlog::info(\"Welcome to spdlog!\");\n  spdlog::error(\"Some error message with arg: {}\", 1);\n\n  spdlog::warn(\"Easy padding in numbers like {:08d}\", 12);\n  spdlog::critical(\"Support for int: {0:d};  hex: {0:x};  oct: {0:o}; bin: {0:b}\", 42);\n  spdlog::info(\"Support for floats {:03.2f}\", 1.23456);\n  spdlog::info(\"Positional args are {1} {0}..\", \"too\", \"supported\");\n  spdlog::info(\"{:&lt;30}\", \"left aligned\");\n\n  spdlog::set_level(spdlog::level::debug); // Set global log level to debug\n  spdlog::debug(\"This message should be displayed..\");\n\n  // Compile time log levels\n  // define SPDLOG_ACTIVE_LEVEL to desired level\n  SPDLOG_TRACE(\"Some trace message with param {}\", {});\n  SPDLOG_DEBUG(\"Some debug message\");\n\n}\n\n/*** R\nexampleOne()\n*/\n</code></pre> <p>When built, which is easiest via <code>Rcpp::sourceCpp()</code>, the final block ensures that the created function <code>exampleOne()</code> is executed. In one previous run, the following output was produded:</p> <pre><code>R&gt; exampleOne()\n[14:25:03.362024] [I] [thread 2453030] Welcome to spdlog!\n[14:25:03.362047] [E] [thread 2453030] Some error message with arg: 1\n[14:25:03.362051] [W] [thread 2453030] Easy padding in numbers like 00000012\n[14:25:03.362053] [C] [thread 2453030] Support for int: 42;  hex: 2a;  oct: 52; bin: 101010\n[14:25:03.362056] [I] [thread 2453030] Support for floats 1.23\n[14:25:03.362058] [I] [thread 2453030] Positional args are supported too..\n[14:25:03.362060] [I] [thread 2453030] left aligned\n[14:25:03.362061] [D] [thread 2453030] This message should be displayed..\nR&gt;\n</code></pre> <p>We note the easy-to-formatting in the source which benefits from the embedded fmt package for easy-to-use variable expansion. We also notice the different logging \"levels\" indicated by single letters: info, errror, warning, critical and debug.  More on this below.</p>"},{"location":"vignettes/introduction/#second-example-showcase","title":"Second example: Showcase","text":"<p>This second example follows a more complete example in the spdlog documention and highlights numerous features of the library. As before, this example is also included in the RcppSpdlog package as examples/exampleTwo.cpp. And as before, do not use this example as a starting point in an R package.</p> <pre><code>#include \"spdlog/spdlog.h\"\n\n#include &lt;Rcpp.h&gt;\n\nvoid stdout_logger_example();\nvoid basic_example();\nvoid rotating_example();\nvoid daily_example();\nvoid async_example();\nvoid binary_example();\nvoid trace_example();\nvoid multi_sink_example();\nvoid user_defined_example();\nvoid err_handler_example();\nvoid syslog_example();\nvoid clone_example();\n\n#include \"spdlog/spdlog.h\"\n\n// [[Rcpp::depends(RcppSpdlog)]]\n\n// [[Rcpp::export]]\nvoid exampleTwo() {\n\n    spdlog::info(\"Welcome to spdlog version {}.{}.{} !\",\n                 SPDLOG_VER_MAJOR, SPDLOG_VER_MINOR, SPDLOG_VER_PATCH);\n    spdlog::warn(\"Easy padding in numbers like {:08d}\", 12);\n    spdlog::critical(\"Support for int: {0:d};  hex: {0:x};  oct: {0:o}; bin: {0:b}\", 42);\n    spdlog::info(\"Support for floats {:03.2f}\", 1.23456);\n    spdlog::info(\"Positional args are {1} {0}..\", \"too\", \"supported\");\n    spdlog::info(\"{:&gt;8} aligned, {:&lt;8} aligned\", \"right\", \"left\");\n\n    // Runtime log levels\n    spdlog::set_level(spdlog::level::info); // Set global log level to info\n    spdlog::debug(\"This message should not be displayed!\");\n    spdlog::set_level(spdlog::level::trace); // Set specific logger's log level\n    spdlog::debug(\"This message should be displayed..\");\n\n    // Customize msg format for all loggers\n    spdlog::set_pattern(\"[%H:%M:%S %z] [%^%L%$] [thread %t] %v\");\n    spdlog::info(\"This an info message with custom format\");\n    spdlog::set_pattern(\"%+\"); // back to default format\n\n    try\n    {\n        stdout_logger_example();\n        basic_example();\n        rotating_example();\n        daily_example();\n        clone_example();\n        async_example();\n        binary_example();\n        multi_sink_example();\n        user_defined_example();\n        err_handler_example();\n        trace_example();\n\n        // Flush all *registered* loggers using a worker thread every 3 seconds.\n        // note: registered loggers *must* be thread safe for this to work correctly!\n        spdlog::flush_every(std::chrono::seconds(3));\n\n        // Apply some function on all registered loggers\n        spdlog::apply_all([&amp;](std::shared_ptr&lt;spdlog::logger&gt; l) { l-&gt;info(\"End of example.\"); });\n\n        // Release all spdlog resources, and drop all loggers in the registry.\n        // This is optional (only mandatory if using windows + async log).\n        //spdlog::shutdown();\n    }\n\n    // Exceptions will only be thrown upon failed logger or sink construction (not during logging).\n    catch (const spdlog::spdlog_ex &amp;ex)\n    {\n        std::printf(\"Log initialization failed: %s\\n\", ex.what());\n        return;\n    }\n\n    // added to this example file allow multiple runs of function\n    spdlog::drop(\"console\");\n    spdlog::drop(\"file_logger\");\n    spdlog::drop(\"some_logger_name\");\n    spdlog::drop(\"daily_logger\");\n    spdlog::drop(\"async_file_logger\");\n}\n\n\n#include \"spdlog/sinks/stdout_color_sinks.h\"\n// or #include \"spdlog/sinks/stdout_sinks.h\" if no colors needed.\nvoid stdout_logger_example()\n{\n    // Create color multi threaded logger.\n    auto console = spdlog::stdout_color_mt(\"console\");\n    // or for stderr:\n    // auto console = spdlog::stderr_color_mt(\"error-logger\");\n}\n\n#include \"spdlog/sinks/basic_file_sink.h\"\nvoid basic_example()\n{\n    // Create basic file logger (not rotated).\n    auto my_logger = spdlog::basic_logger_mt(\"file_logger\", \"logs/basic-log.txt\");\n}\n\n#include \"spdlog/sinks/rotating_file_sink.h\"\nvoid rotating_example()\n{\n    // Create a file rotating logger with 5mb size max and 3 rotated files.\n    auto rotating_logger =\n        spdlog::rotating_logger_mt(\"some_logger_name\", \"logs/rotating.txt\", 1048576 * 5, 3);\n}\n\n#include \"spdlog/sinks/daily_file_sink.h\"\nvoid daily_example()\n{\n    // Create a daily logger - a new file is created every day on 2:30am.\n    auto daily_logger = spdlog::daily_logger_mt(\"daily_logger\", \"logs/daily.txt\", 2, 30);\n}\n\n// Clone a logger and give it new name.\n// Useful for creating component/subsystem loggers from some \"root\" logger.\nvoid clone_example()\n{\n    auto network_logger = spdlog::default_logger()-&gt;clone(\"network\");\n    network_logger-&gt;info(\"Logging network stuff..\");\n}\n\n#include \"spdlog/async.h\"\nvoid async_example()\n{\n    // Default thread pool settings can be modified *before* creating the async logger:\n    // spdlog::init_thread_pool(32768, 1); // queue with max 32k items 1 backing thread.\n    auto async_file =\n        spdlog::basic_logger_mt&lt;spdlog::async_factory&gt;(\"async_file_logger\", \"logs/async_log.txt\");\n    // alternatively:\n    // auto async_file =\n    //     spdlog::create_async&lt;spdlog::sinks::basic_file_sink_mt&gt;(\"async_file_logger\",\n    //     \"logs/async_log.txt\");\n\n    for (int i = 1; i &lt; 101; ++i)\n    {\n        async_file-&gt;info(\"Async message #{}\", i);\n    }\n}\n\n// Log binary data as hex.\n// Many types of std::container&lt;char&gt; types can be used.\n// Iterator ranges are supported too.\n// Format flags:\n// {:X} - print in uppercase.\n// {:s} - don't separate each byte with space.\n// {:p} - don't print the position on each line start.\n// {:n} - don't split the output to lines.\n\n#include \"spdlog/fmt/bin_to_hex.h\"\nvoid binary_example()\n{\n    std::vector&lt;char&gt; buf;\n    for (int i = 0; i &lt; 80; i++)\n    {\n        buf.push_back(static_cast&lt;char&gt;(i &amp; 0xff));\n    }\n    spdlog::info(\"Binary example: {}\", spdlog::to_hex(buf));\n    spdlog::info(\"Another binary example:{:n}\",\n                 spdlog::to_hex(std::begin(buf), std::begin(buf) + 10));\n    // more examples:\n    // logger-&gt;info(\"uppercase: {:X}\", spdlog::to_hex(buf));\n    // logger-&gt;info(\"uppercase, no delimiters: {:Xs}\", spdlog::to_hex(buf));\n    // logger-&gt;info(\"uppercase, no delimiters, no position info: {:Xsp}\", spdlog::to_hex(buf));\n}\n\n// Compile time log levels.\n// define SPDLOG_ACTIVE_LEVEL to required level (e.g. SPDLOG_LEVEL_TRACE)\nvoid trace_example()\n{\n    // trace from default logger\n    SPDLOG_TRACE(\"Some trace message.. {} ,{}\", 1, 3.23);\n    // debug from default logger\n    SPDLOG_DEBUG(\"Some debug message.. {} ,{}\", 1, 3.23);\n\n    // trace from logger object\n    auto logger = spdlog::get(\"file_logger\");\n    SPDLOG_LOGGER_TRACE(logger, \"another trace message\");\n}\n\n// A logger with multiple sinks (stdout and file) - each with a different format and log level.\nvoid multi_sink_example()\n{\n    auto console_sink = std::make_shared&lt;spdlog::sinks::stdout_color_sink_mt&gt;();\n    console_sink-&gt;set_level(spdlog::level::warn);\n    console_sink-&gt;set_pattern(\"[multi_sink_example] [%^%l%$] %v\");\n\n    auto file_sink =\n        std::make_shared&lt;spdlog::sinks::basic_file_sink_mt&gt;(\"logs/multisink.txt\", true);\n    file_sink-&gt;set_level(spdlog::level::trace);\n\n    spdlog::logger logger(\"multi_sink\", {console_sink, file_sink});\n    logger.set_level(spdlog::level::debug);\n    logger.warn(\"this should appear in both console and file\");\n    logger.info(\"this message should not appear in the console, only in the file\");\n}\n\n// User defined types logging by implementing operator&lt;&lt;\n#include \"spdlog/fmt/ostr.h\" // must be included\nstruct my_type\n{\n    int i;\n    template&lt;typename OStream&gt;\n    friend OStream &amp;operator&lt;&lt;(OStream &amp;os, const my_type &amp;c)\n    {\n        return os &lt;&lt; \"[my_type i=\" &lt;&lt; c.i &lt;&lt; \"]\";\n    }\n};\n\nvoid user_defined_example()\n{\n    spdlog::info(\"user defined type: {}\", my_type{14});\n}\n\n// Custom error handler. Will be triggered on log failure.\nvoid err_handler_example()\n{\n    // can be set globally or per logger(logger-&gt;set_error_handler(..))\n    spdlog::set_error_handler([](const std::string &amp;msg) {\n         printf(\"*** Custom log error handler: %s ***\\n\", msg.c_str()); });\n}\n\n// syslog example (linux/osx/freebsd)\n#ifndef _WIN32\n#include \"spdlog/sinks/syslog_sink.h\"\nvoid syslog_example()\n{\n    std::string ident = \"spdlog-example\";\n    auto syslog_logger = spdlog::syslog_logger_mt(\"syslog\", ident, LOG_PID);\n    syslog_logger-&gt;warn(\"This is warning that will end up in syslog.\");\n}\n#endif\n\n// Android example.\n#if defined(__ANDROID__)\n#include \"spdlog/sinks/android_sink.h\"\nvoid android_example()\n{\n    std::string tag = \"spdlog-android\";\n    auto android_logger = spdlog::android_logger_mt(\"android\", tag);\n    android_logger-&gt;critical(\"Use \\\"adb shell logcat\\\" to view this message.\");\n}\n\n#endif\n\n\n/*** R\nexampleTwo()\n*/\n</code></pre> <p>We are not showing the output here; it can be compiled, linked, loaded and run just as above by simply passing the filename to <code>Rcpp::sourceCpp()</code>. Note that is will create a few demonstration logfiles so you may want to run the example from a temporary directory.</p>"},{"location":"vignettes/introduction/#third-example-colour","title":"Third example: Colour","text":"<p>The next example highlights a colour 'sink' for the logger. Again, do not use this as a starting point for your package as <code>R CMD check</code> will protest about use of <code>stdout</code>.</p> <pre><code>#include \"spdlog/spdlog.h\"\n#include \"spdlog/sinks/stdout_color_sinks.h\"\n\n#include &lt;Rcpp.h&gt;\n\n// [[Rcpp::depends(RcppSpdlog)]]\n\n// [[Rcpp::export]]\nvoid exampleThree() {\n\n  auto console = spdlog::stdout_color_mt(\"console\");\n\n  // change log pattern (changed from [%H:%M:%S %z] [%n] [%^---%L---%$] )\n  spdlog::set_pattern(\"[%H:%M:%S.%f] [%^%L%$] [thread %t] %v\");\n  spdlog::info(\"This an info message with custom format\");\n  //spdlog::set_pattern(\"%+\"); // back to default format\n\n  spdlog::info(\"Welcome to spdlog!\");\n  spdlog::error(\"Some error message with arg: {}\", 1);\n\n  spdlog::warn(\"Easy padding in numbers like {:08d}\", 12);\n  spdlog::critical(\"Support for int: {0:d};  hex: {0:x};  oct: {0:o}; bin: {0:b}\", 42);\n  spdlog::info(\"Support for floats {:03.2f}\", 1.23456);\n  spdlog::info(\"Positional args are {1} {0}..\", \"too\", \"supported\");\n  spdlog::info(\"{:&lt;30}\", \"left aligned\");\n\n\n  // added to this example file allow multiple runs of different package functions\n  spdlog::drop(\"console\");\n\n}\n\n/*** R\nexampleThree()\n*/\n</code></pre> <p>When running this example in a terminal capable of displaying colour escape sequence, the logging levels are distinguished by colour. This ranges from green (\"info\") to yellow (\"warning\") to red (\"error\") and white-on-red (\"critical\"). Not that in this vignette color from standard output does how not show (in the keep-it-simple-mode we are using here).</p> <pre><code>R&gt; exampleThree()\n[14:47:52.260692] [I] [thread 2502026] This an info message with custom format\n[14:47:52.260715] [I] [thread 2502026] Welcome to spdlog!\n[14:47:52.260732] [E] [thread 2502026] Some error message with arg: 1\n[14:47:52.260734] [W] [thread 2502026] Easy padding in numbers like 00000012\n[14:47:52.260736] [C] [thread 2502026] Support for int: 42;  hex: 2a;  oct: 52; bin: 101010\n[14:47:52.260739] [I] [thread 2502026] Support for floats 1.23\n[14:47:52.260741] [I] [thread 2502026] Positional args are supported too..\n[14:47:52.260743] [I] [thread 2502026] left aligned\nR&gt;\n</code></pre>"},{"location":"vignettes/introduction/#fourth-example-dedicated-r-logger","title":"Fourth Example: Dedicated R Logger","text":"<p>The next example is suitable for use in R packages, and in fact included as an example in the package. We include the source file src/exampleRsink.cpp.</p> <pre><code>// this portmanteau include also defines the r_sink we use below, and which\n// diverts all logging to R via the Rcpp::Rcout replacement for std::cout\n#include &lt;RcppSpdlog&gt;\n#include &lt;spdlog/stopwatch.h&gt;           // also support stopwatch feature\n\n//' spdlog Example using a sink for R\n//'\n//' A simple example invoking a derived R/Rcpp logger. Also demonstrates the\n//' stopwatch feature. For more features see the 'spdlog' documnetation.\n//'\n//' Note that this no longer triggers R warnings thanks to excellent help by\n//' Gabi Melman.\n//' @return None\n//' @examples\n//' exampleRsink()\n// [[Rcpp::export]]\nvoid exampleRsink() {\n\n    std::string logname = \"fromR\";                          // fix a name for this logger\n    auto sp = spdlog::get(logname);                         // retrieve existing one\n    if (sp == nullptr) sp = spdlog::r_sink_mt(logname);     // or create new one if needed\n    spdlog::set_default_logger(sp);                         // and set as default\n\n    spdlog::stopwatch sw;                                   // instantiate a stop watch\n\n    // change log pattern (changed from [%H:%M:%S %z] [%n] [%^---%L---%$] )\n    spdlog::set_pattern(\"[%H:%M:%S.%f] [%n] [%^%L%$] [thread %t] %v\");\n\n    spdlog::info(\"Welcome to spdlog!\");\n    spdlog::error(\"Some error message with arg: {}\", 1);\n    spdlog::info(\"Elapsed time: {}\", sw);\n\n    spdlog::warn(\"Easy padding in numbers like {:08d}\", 12);\n    spdlog::critical(\"Support for int: {0:d};  hex: {0:x};  oct: {0:o}; bin: {0:b}\", 42);\n    spdlog::info(\"Support for floats {:03.2f}\", 1.23456);\n    spdlog::info(\"Positional args are {1} {0}..\", \"too\", \"supported\");\n    spdlog::info(\"{:&lt;30}\", \"left aligned\");\n    spdlog::info(\"Elapsed time: {}\", sw);\n\n}\n\n//' spdlog Logging Lever Setter\n//'\n//' A helper function to turn a logging level given as string\n//' into the current logging level\n//'\n//' @param name A string with the logging level. Value understood are,\n//' in decreasing verbosity \\sQuote{trace}, \\sQuote{debug}, \\sQuote{info},\n//' \\sQuote{warning}, \\sQuote{error}, \\sQuote{critical}, and \\sQuote{off}.\n//' Unrecognised names are equivalent to \\sQuote{off}.\n//' @return Nothing is returned.\n// [[Rcpp::export]]\nvoid setLogLevel(const std::string &amp;name) {\n    spdlog::set_level(spdlog::level::from_str(name));\n}\n</code></pre> <p>The example file contains three key aspects to highlight: - use of the <code>r_sink_mt()</code> class for R-specific logger sink - use of the very convenient <code>stopwatch</code> object - use of logging levels</p> <p>We highlight these below after first showing the relevant output:</p> <pre><code>R&gt; exampleRsink()\n[16:52:12.076751] [fromR] [I] [thread 2453030] Welcome to spdlog!\n[16:52:12.076809] [fromR] [E] [thread 2453030] Some error message with arg: 1\n[16:52:12.076823] [fromR] [I] [thread 2453030] Elapsed time: 9.6104e-05\n[16:52:12.076833] [fromR] [W] [thread 2453030] Easy padding in numbers like 00000012\n[16:52:12.076844] [fromR] [C] [thread 2453030] Support for int: 42;  hex: 2a;  oct: 52; bin: 101010\n[16:52:12.076853] [fromR] [I] [thread 2453030] Support for floats 1.23\n[16:52:12.076871] [fromR] [I] [thread 2453030] Positional args are supported too..\n[16:52:12.076879] [fromR] [I] [thread 2453030] left aligned\n[16:52:12.076892] [fromR] [I] [thread 2453030] Elapsed time: 0.000167057\nR&gt;\n</code></pre>"},{"location":"vignettes/introduction/#r-specific-sink","title":"R-specific sink","text":"<p>spdlog has the ability to derive and sub-class sinks for logger. The RcppSpdlog package uses this feature to implement a sink using the Rcpp conduit <code>Rcpp::Rcout</code> instead of <code>std::cout</code> as it conveniently redirects to the R output stream. This class should be the default one for any R packages wanting to use spdlog  while also passing <code>R CMD check</code>.</p> <p>A second important aspect of the initial code in function <code>exampleRsink()</code> is how a named logging instance is requested. If none is found, a new one is instantiated. Next, this logger is made the default logger permitting convenient programmatic access via <code>spdlog::</code>.</p>"},{"location":"vignettes/introduction/#stopwatch","title":"Stopwatch","text":"<p>A powerful (recent) feature of the include fmt library is the automatic formatting of timestamps and interval. As the code example shows, simply instantianting an object, here called <code>sw</code>, and referring to it later is all that takes.</p>"},{"location":"vignettes/introduction/#log-level","title":"Log-Level","text":"<p>A second utility function <code>setLogLevel()</code> is also provided. Usage is simple: after calling it with a given level, only message equal to it or higher are shown as the next example shows.</p> <pre><code>R&gt; setLogLevel(\"error\")\nR&gt; exampleRsink()\n[16:54:12.666261] [fromR] [E] [thread 2453030] Some error message with arg: 1\n[16:54:12.666286] [fromR] [C] [thread 2453030] Support for int: 42;  hex: 2a;  oct: 52; bin: 101010\nR&gt;\n</code></pre> <p>By requestion level 'error', message of level 'info', 'warning' or 'debug' are suppressed but messages levels 'error' or 'critical' as shown as desired.</p>"},{"location":"vignettes/introduction/#fifth-example-initialization","title":"Fifth Example: Initialization","text":"<p>Package desiring to use RcppSpdlog can initialize its facilities during startup.</p> <p>For that we first define a setup function</p> <pre><code>// this portmanteau include also defines the r_sink we use below, and which\n// diverts all logging to R via the Rcpp::Rcout replacement for std::cout\n#include &lt;RcppSpdlog&gt;\n\n//' Set a new default logger for R\n//'\n// [[Rcpp::export]]\nvoid setDefault() {\n    std::string logname = \"fromR\";                          // fix a name for this logger\n    auto sp = spdlog::get(logname);                         // retrieve existing one\n    if (sp == nullptr) sp = spdlog::r_sink_mt(logname);     // or create new one if needed\n    sp-&gt;set_pattern(\"[%H:%M:%S.%f] [%^%L%$] %v\");\n    spdlog::set_default_logger(sp);\n}\n</code></pre> <p>We can then call this function during startup:</p> <pre><code>.onLoad &lt;- function(libname, pkgname) {\n    setDefault();\n}\n</code></pre>"},{"location":"vignettes/introduction/#sixth-example-compile-time-selection","title":"Sixth Example: Compile-time Selection","text":"<p>Of course, spdlog also supports a common usage paradigm with loggers in which the decision of whether to log or not is compile-time rather than run time.  As this is typically implemented via macros, usage is via upper-case macros as well.</p> <p>The following example shows a function with three different logging-level statements as well as a <code>#define</code> set such one and only one is shown. Similarly, code can contain debug or trace or info or ... statements which would not appear in the actually loaded \"production code\" (or CRAN version) if the compile-time logging level define is set high enough.</p> <pre><code>// this portmanteau include also defines the r_sink we use below, and which\n// diverts all logging to R via the Rcpp::Rcout replacement for std::cout\n#include &lt;RcppSpdlog&gt;\n\n// A define such as this could also be set in src/Makevars via a -D flag\n#define SPDLOG_LOG_LEVEL  SPDLOG_LEVEL_CRITICAL\n\n// [[Rcpp::export]]\nvoid demoInvisible() {\n    Rcpp::Rcout &lt;&lt; \"Hello from demoInvisible, just to show we're being called...\\n\";\n\n    // trace message via default logger\n    SPDLOG_TRACE(\"Some trace message.. {} ,{}\", 1, 3.23);\n    // debug message via default logger\n    SPDLOG_DEBUG(\"Some debug message.. {} ,{}\", 1, 3.23);\n    // debug message via default logger\n    SPDLOG_CRITICAL(\"Some critical message.. {} ,{}\", 1, 3.23);\n}\n</code></pre> <p>When a piece of code with such compile-time defines is used, we see the expected outcome. The following example uses default logger, and as the preceding section showed this can be set up to be the custom R sink:</p> <pre><code>R&gt; Rcpp::sourceCpp(\"/tmp/rcppspdlog.cpp\")  # plus a '// [[Rcpp:depends(\"RcppSpdlog\")'\nR&gt; demoInvisible()\nHello from demoInvisible, just to show we're being called...\n[08:44:48.198075] [fromR] [C] [thread 2453030] Some critical message.. 1 ,3.23\nR&gt;\n</code></pre>"},{"location":"vignettes/introduction/#seventh-example-access-from-r","title":"Seventh Example: Access From R","text":"<p>As of package 0.0.9, RcppSpdlog supports two new modes. The first is direct logging support from R and described in this section; the second is access from another R package and described thereafter. A number of basic functions are exported using Rcpp. These include <code>log_setup(name, level)</code> to instantiate a named logger at a given level (instead of an unnamed default at level 'warn'), <code>log_filesetup(filename, name, level)</code> (same using the named file as logging destination), a helper <code>log_drop(name)</code> to drop a named logger, two setters <code>log_set_pattern()</code> and <code>log_set_level()</code> to set, respectively, the displayed log pattern and the level. This is complemented by the actual loggers ranging from <code>log_trace()</code> and <code>log_debug()</code> to <code>log_info()</code>, <code>log_warn()</code>, <code>log_error()</code> and finally <code>log_critical()</code>.</p> <p>The following example (also the example in the manual page) illustrates.</p> <pre><code>&gt; library(RcppSpdlog)\n&gt; log_setup(\"demo\")                     # default level 'warn' is used\n&gt; log_info(\"this message is NOT seen\")\n&gt; log_set_level(\"debug\")\n&gt; log_set_pattern(\"%^[%H:%M:%S.%e] [%n] [%l] %v%$\")  # set a pattern w/o process id\n&gt; log_info(\"this message is seen\")\n[15:55:34.150] [demo] [info] this message is seen\n&gt; log_warn(\"as is this message\")\n[ 15:55:37.513] [demo] [warning] as is this message\n&gt;\n</code></pre> <p>The interface expects a character value so use from either <code>sprintf()</code> or a string-interpolating helper such as <code>glue::glue</code> can be used:</p> <pre><code>&gt; log_info(sprintf(\"We can %s a %s with values %d\", \"build\", \"text\", 42L))\n[16:03:37.728] [demo] [info] We can build a text with values 42\n&gt; log_info(glue::glue(\"We can {a} a {b} with values {v}\", a=\"build\", b=\"text\", v=42L))\n[16:03:46.395] [demo] [info] We can build a text with values 42\n&gt;\n</code></pre>"},{"location":"vignettes/introduction/#eight-example-access-from-another-r-package","title":"Eight Example: Access From Another R Package","text":"<p>As of package 0.0.9, another package can use the C++ level functions (either with or without the R functions) by importing the <code>RcppSpdlog</code> while ensuring at least one function from the package is imported (so that the C-level interface functions are instantiated by R). This is time-honoured mechanism long-used by <code>lme4</code> to access (compiled) functions from <code>Matrix</code> as well as by <code>xts</code> to access code from <code>zoo</code>, and others.</p> <p>To properly import the package, add just one import, for example <code>importFrom((RcppSpdlog, log_setup)</code> to the <code>NAMESPACE</code> file of your package, along with the required <code>Imports: RcppSpdlog</code> in the <code>DESCRIPTION</code> file. The available functions are the same as the ones described in the previous section, but now available at the C++ level in the <code>RcppSpdlog</code> namespace. So for example</p> <pre><code>#include &lt;RcppSpdlog.h&gt;\n\nRcppSpdlog::log_setup(\"demoLogger\", \"info\");    // create logger at info level\nRcppSpdlog::log_info(\"logger created\");\n</code></pre> <p>will work.</p>"},{"location":"vignettes/introduction/#nineth-example-more-compact-c-access","title":"Nineth Example: More compact C++ Access","text":"<p>As the (auto-generated, thanks to <code>Rcpp</code>) interface described in the previous section is a little \"wordy\", we added a simple aliasing wrapping in a new namespace <code>spdl</code> and, given the protection from naming collisions offered by the namespace, shortened the accessor function names.  So the previous example can also be used via</p> <pre><code>#include &lt;spdl.h&gt;\n\nspdl::setup(\"demoLogger\", \"info\");  // create logger at info level\nspdl::info(\"logger created\");\n</code></pre> <p>The logger interface takes a simple string. Two easy options exist for formatting such as string.  First, one can rely on the tinyformat version included with <code>Rcpp</code> and use <code>tfm::format()</code> which works with standard <code>printf()</code> operators. Second, one can use the <code>fmt</code> library included with <code>spdlog</code> via an explicit call.</p> <pre><code># using tfm::format\nspdl::info(tfm::format(\"We %s values %d and %f\", \"log\", 42, 1.23));\n# using fmt::format\nspdl::info(fmt::format(\"We {} values {} and {}\", \"log\", 42, 1.23));\n</code></pre> <p>Here both formatters have to be called explicitly as we use a simple one-function signature (per logging function) to the underlying C language implementation without the fuller flexibility of variadic arguments.</p> <p>As C++11 can be assumed, we can also offers a variadic template expansion for <code>fmt::format()</code> and the second example simply becomes</p> <pre><code>spdl::info(\"We {} values {} and {}\", \"log\", 42, 1.23);\n</code></pre>"},{"location":"vignettes/introduction/#tenth-example-more-compact-r-access","title":"Tenth Example: More compact R Access","text":"<p>As the more compact access in the previous section is quite compelling we also created a sibbling R package spd providing a <code>spdl</code> namespace in R allowing _the exact same format strings too`.</p> <p>So</p> <pre><code>spdl::info(\"We {} values {} and {}\", \"log\", 42L, 1.23);\n</code></pre> <p>now also works from R using the same formatting string. We inted to upload <code>spdl</code> to CRAN too.</p> <p>Note that other all other formatting options are supported from R: the first argument is a character variable which can be constructed using <code>paste</code>, <code>sprintf</code>, or any of the string-interpolating packages.  But as none of those methods works like fmt (which we have come to like a lot) we added support for it too.</p>"},{"location":"vignettes/introduction/#eleventh-example-stopwatch-support-in-r-and-c","title":"Eleventh Example: Stopwatch Support in R and C++","text":"<p>As shown above, spdlog supports a 'stopwatch' in C++. Usage is straightforward: one first instantiates an object of type <code>stopwatch</code> (make sure to first include the appropriate header too!) and then reports elapsed time by including the <code>stopwatch</code> object in the logger.</p> <p>We wrap this <code>spdlog::stopwatch</code> object in an external pointer to make it accessible from R. Moreover, by creating it as a S3 object we can add a <code>format()</code> method to make the usage pattern identical to the use in C++.  So in R we now have</p> <pre><code>sw &lt;- RcppSpdlog::get_stopwatch()\nSys.sleep(0.2)\nRcppSpdlog::log_warn(\"Elapsed time via stopwatch: {}\", sw)\n</code></pre> <p>This also works in C++. <pre><code>auto sw = RcppSpdlog::get_stopwatch();  // returns XPtr&lt;spdlog::stopwatch\nusleep(200);                            // from unistd.h\nRcppSpdlog::log_warn(\"Elapsed\", RcppSpdlog::format_stopwatch(sw));\n</code></pre></p> <p>Note that in that last line we need to explicitly call a formatter as we do not get the templated formatter from spdlog as our object is an external-pointer wrapped object.</p> <p>We also export this via the <code>spdl.h</code> wrapper.  So the same C++ functionality is also available as</p> <pre><code>auto sw = spdl::stopwatch();  // returns XPtr&lt;spdlog::stopwatch\nusleep(200);                  // from unistd.h\nspdl::warn(\"Elapsed\", spdl::format(sw));\n</code></pre> <p>And because the spdl package wraps this for R, we can do the same in R:</p> <pre><code>sw &lt;- spdl::stopwatch()\nSys.sleep(0.2)\nspdl::warn(\"Elapsed: {}\", sw)\n</code></pre> <p>which once again takes advantage of the S3 class and its <code>format()</code> method.</p>"},{"location":"vignettes/introduction/#conclusion","title":"Conclusion","text":"<p>spdlog and the included fmt are two very powerful and widely used C++ libraries.  The RcppSpdlog package adds to them to the set of packages R users can deploy. The spd package makes access even easier and more consistent. It is our hope that the examples shown here are of interest to R users who are looking for effortless, performant and flexible logging solutions for their R packages.</p>"}]}